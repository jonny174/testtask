# Описание
Rest сервис позволяющий создавать новые задачи и следить за стадиями обработки задачи

# Rest endpoint:
Сервис содержит следующие конечные точки:
```
  POST /task - создает новую задачу, ставит ее на обработку и возвращает идентификатор, по которому можно следить за состоянием задачи
```
```
  GET /task/{id} - возвращает информацию о процессе обработки задачи по указанному id
```
К сервису подключен swagger, через который вы можете получить дополнительную информация и обробывать сервис.
Путь по умолчанию:
```
http://localhost:8080/swagger-ui.html
```
Также у сервиса имеется дополнительные конечные точки:
```
GET /status - возвращает информацию о состоянии работы сервиса, в краткой форме
```
```
GET /info - возвращает информацию о названии сервиса, последних изменениях и версии
```
```
GET /env - возвращает информацию о переменных окружения
```

# Установка
Для работы сервиса необходимо, что бы на сервере заранее было установлено openjdk 1.8.
Cервис работает с СУБД PostgreSQL 9.5. Для настройки параметров подключения к базе необходимо отредактировать application.yml, 
находящийся в jar файле или создать свой application.yml и подложить его в место где лежит jar файл.
Краткий список настроек для подключения БД:
```
spring:
  datasource:
    url: - путь к базе данных
    username: - имя пользователя
    password: - пароль
```

## Debian дестрибативы
Для устанвки на debian вам необходимо собрать deb пакет следующей командой:
```
./gradlew buildDeb
```
После по пути build/distributions Вам будет доступен deb пакет

## Red Hat дестрибативы
Для устанвки на red hat вам необходимо собрать rpm пакет следующей командой:
```
./gradlew buildRpm
```
После по пути build/distributions Вам будет доступен rpm пакет

## Systemd
После установки rpm или deb пакета Вам станет доступено управлени сервисом
с помошью systemd.
Для запуска сервиса выполните следующую команду:
```
systemctl start testtask
```

# Логирование
После запуска сервиса, осуществлятся логироване его работы в файл.
По умолчанию он находитится рядом jar файлом:
```
/opt/testtask/testtask.log
```